<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">  
    <link rel="stylesheet" type="text/css" href="stylesheets/application.css" media="screen">
    <script src="http://demo.api.actn.io/connect?apikey=1b74173b744bf9c517c8675360248535"></script>
    
    <title>Actn.io</title>
  </head>

  <body class="p2" style="max-width:560px;margin:0 auto">

    <div class="logo bg-yellow darken-4 inline-block p1">A.io</div>
    
    <h1>Hello! This is Actn.io</h1>
    <h2 class="mb3"><a href="https://github.com/hackberry-gh/actn.io">Open Source</a> Backend as a Service</h2>
    
    <p>Read, write and query any data without limits and real time. Schedule hooks to run backend jobs and create user interfaces with HTML5</p>
    
    <p class="mb4">Actn.io is compound of a few micro services which built on <a href="https://github.com/postrank-labs/goliath" target="_blank">Goliath</a> and <a href="https://code.google.com/p/plv8js/wiki/PLV8" target="_blank">Postgresql PL/V8.</a> Running on CoreOS.</p>
    
    
    <!----------------------------------------------------------------------------->
    
    
    <h2>Demo, an Example App</h2>
    
    <p>Let's say you want to collect signatures for your online petition. But also you like to observe activities on your petition page and need to have meaningfull output from captured data. You also want that page in three languages. To achive that simple goal with Actn.io you need;</p>
    
    <p class="p1 rounded border mb3">Demo app is already up and running on <a href="http://demo.actn.io" target="_blank">http://demo.actn.io</a> and can be managed at <a href="http://demo.core.actn.io" target="_blank">http://demo.core.actn.io</a>. Signin with <strong>demo@actn.io</strong> and <strong>password</strong>.</p>
    
    <ul class="mb3">
      <li class="mb1">A <code class="button-small">Client</code> to communicate with <a href="https://github.com/hackberry-gh/actn-cors" target="_blank">Cors API</a></li>
      <li class="mb1">A <code class="button-small">Model</code> to validate and capture signature data properly</li>
      <li class="mb1">A <code class="button-small">Template</code> to render petition form in multiple languages</li>
    </ul>
    
    <p class="bg-yellow p1 rounded red mb4">Actn.io is modular and lets you consume it's API independently. In other words you can use it as a pure backend in your existing website or any other software.</p>
    
    <!----------------------------------------------------------------------------->
    
    
    <h4>1. Client</h4>
    <p>Each client dedicated to only one domain but a single domain can have many clients. It is useful for seperating access control under same domain. 
      
    <br/><br/>
      
    Client has two properties;</p>
    <ul class="mb2">
      <li><code class="button-small">domain</code> the domain which sends cross domain request</li>
      <li><code class="button-small">acl</code> an array of access control list patterns for certain http verbs and paths. Eg: <code class="button-small">*, GET:/signatures, POST:/users, ...</code></li>      
    </ul>
    
    <p class="p2 bg-lighter-gray mb3"><img src="images/client.png" class="border rounded fit"/><em>Client for demo.actn.io domain</em></p>
    
    <p>Main purpose of a Client is authentication with Cors API, but you can consume REST API as well with apikey/secret credentials. However, Actn.io gives you a javascript client to make things a bit quicker, so you can immediately start playing with the API after creating a client. Simply add script tag below into your page and you're ready.</p>
    
    <pre class="bg-dark-gray white p2 mb4">&lt;script src="http://demo.api.actn.io/connect?apikey=YOUR_API_KEY"&gt;&lt;/script&gt;</pre>
    
    <h4>2. Model</h4>
    <p>Model is base class for your custom models. It allows you to set validation rules (through JSON Schema), database indexes and hook jobs. Here is our <a href="http://demo.core.actn.io/models/eb2c6479-6d33-46e6-8394-0b32b3b3c2d3/edit" target="_blank">Signature Model</a> which we will use in our <a href="http://demo.actn.io" target="_blank">Demo App.</a>
    <br/><br/>
    Model properties are;</p>
    <ul>
      <li><code class="button-small">name</code> name of the model, cannot be change after creation and must be unique</li>
      <li><code class="button-small">schema</code> <a href="http://json-schema.org/" target="_blank">JSON schema</a> for structure and validations</li>         <li><code class="button-small">indexes</code> array of <a href="https://github.com/hackberry-gh/actn-db/blob/master/db/schemas/model.json#L17" target="_blank">indexes</a></li>   
      <li><code class="button-small">hooks</code> dictionary of <a href="https://github.com/hackberry-gh/actn-db/blob/master/db/schemas/model.json#L51" target="_blank">hooks</a></li>         
    </ul>  
    </p>
    
    <p class="p2 bg-lighter-gray"><img src="images/model.png" class="border block rounded fit"/><em>Signature model</em></p>
    
    <p class="mb3">OK, I can hear that you like to see some action, sure! Here are some runnable javascript code examples;</p>
  
    <h5>Create a signature</h5>
    <textarea id="script1" class="full-width bg-dark-gray white p2" style="height:454px" spellcheck="false">
var rnd = Math.random() * 10000;
actn.post({
  path: '/signatures',
  data: {
    first_name: 'fname' + rnd,
    last_name: 'lname' + rnd,
    email: 'email' + rnd + '@actn.io'
  },
  success: function(data){
    alert(JSON.stringify(data,null,2));
  },
  error: function(xhr){
    alert(xhr.responseText);
  }
})</textarea>
    <button class="jsRun bg-blue white mb3" data-script="script1">Run</button>
  
    <h5>Get all signatures</h5>
    <textarea id="script2" class="full-width bg-dark-gray white p2" style="height:286px" spellcheck="false">actn.get({
    path: '/signatures',
    success: function(data){
      alert(data.length);
    },
    error: function(xhr){
      alert(xhr.responseText);
    }
  })</textarea>
    <button class="jsRun bg-blue white mb3" data-script="script2">Run</button>
  
    <h5>Delete a signature</h5>
    <textarea id="script3" class="full-width bg-dark-gray white p2" style="height:286px" spellcheck="false">actn.delete({
    path: '/signatures?uuid=...loading...',
    success: function(data){
      alert(JSON.stringify(data,null,2));
    },
    error: function(xhr){
      alert(xhr.responseText);
    }
  })</textarea>
    <button class="jsRun bg-blue white mb3" data-script="script3">Run</button>
  
    <p class="mb4">Enough play? OK! Good, let's create a webpage with a form to provide more human interface for our petition.</p>
  
    <h4>3. Template</h4>
  <p>Template is one and only user interface module in Actn.io at the moment. It allows you to create and serve html, css and javascript files, on the cloud. Don't be shy and mess with demo templates <a href="http://demo.core.actn.io/templates" target="_blank">here</a>. There are some examples of rendering with layout and data binding for multilingual templates.
    
    <br/><br/>
    
    Template properties are;
    </p>
  
    <ul class="mb4">
      <li><code class="button-small">filename</code> filename of the template, must be end with .erb, eg: <code class="button-small">index.html.erb, style.css.erb</code></li>
      <li><code class="button-small">layout</code> layout filename to render template within, "true" if the template itself is layout</li>
      <li><code class="button-small">data_bind</code> data binding options to fetch data before rendering template, the data will be available as <strong>data</strong> local variable</li>            
    </ul>  
    
  
  
    <h3>Live &amp; Search</h3>
    <p>Actn.io provides two interfaces to access data, Live and Search</p>

    <h4>Live</h4>
    <p>Live is a real time page with two different views. Table and line chart. Table view provides sorting and fast searching through freshly arriving records, as well as inline editing and deleting options. It uses Postgresql Listen/Notify API, websockets and actn-job gem. To see it in action run below script and goto <a href="http://demo.core.actn.io/live" target="_blank">Live</a> page</p>
    <textarea id="script4" class="full-width bg-dark-gray white p2" style="height:706px" spellcheck="false">// post 10 signature every 100 milisecond      
window.startTimer = function(){
  window.clearTimeout(window.sTimer);    
  window.sTimer = window.setTimeout(function() {      
    for(var i=0; i < 10; i++) {      
      var rnd = Math.random() * 10000;
      actn.post({
        path: '/signatures',
        data: {
          first_name: 'fname' + rnd,
          last_name: 'lname' + rnd,
          email: 'email' + rnd + '@actn.io'
        },
        success: function(data){
          window.startTimer();
        },
        error: function(xhr){
          alert(xhr.responseText);
        }
      })
    }
  },100);
}
window.startTimer();</textarea>
    <button class="jsRun bg-blue white mb3" data-script="script4">Run</button>
    
      <textarea id="script5" class="full-width bg-dark-gray white p2" spellcheck="false">window.clearTimeout(window.sTimer);</textarea>
      <button class="jsRun bg-blue white mb3" data-script="script5">Run (to Stop)</button>
    
    <h4>Search</h4>    
    <p class="mb4"><a href="">Search</a> provides advanced search with "primitive" domain spesific language, actualy a json object. But it allows users to run complex SQL queries. There are two chart views for search, Pie and Line. Click question mark icon on the page to get some help.</p>  
    
      
    <h3>Notes</h3>  
    <p class="mb4">Demo example is not covering all the features of Actn.io, like hooks, indexing and data_binding, although it's a side project and still under development. Obviously many things are missing to use it in real life now. Anyway, it's performance is incredible but security concerns highly disregarded for now. If you like it, feel free to <a href="https://github.com/hackberry-gh/actn.io">contribute</a> and no need to say, all bug reports welcome.</p>
      
    <hr/>
    
    <footer><small><a href="http://hackberry.biz">Actn.io is maintained by Hackberry</a></small></footer>
    
  </body>
  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="javascripts/application.js"></script>
</html>